<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmación | VQZ & Partners</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
  
  <style>
    /* --- ESTILOS BASE (ESTÉTICA VQZ) --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Roboto Mono', monospace;
    }

    body {
      background-color: #000000;
      color: white;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      overflow-x: hidden;
      background-image: radial-gradient(circle at 50% 50%, #111 0%, #000 70%);
    }

    /* --- TARJETA CENTRAL (GLASSMORPHISM) --- */
    .confirm-card {
      background-color: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 3rem 2rem;
      max-width: 500px;
      width: 100%;
      text-align: center;
      position: relative;
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.9) translateY(20px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }

    /* Efecto de borde brillante sutil */
    .confirm-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; width: 100%; height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    }

    /* --- ICONO Y TEXTOS --- */
    .success-icon {
      font-size: 3.5rem;
      margin-bottom: 1.5rem;
      display: inline-block;
      text-shadow: 0 0 20px rgba(255,255,255,0.2);
    }

    h1 {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(to right, #fff, #aaa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .subtitle {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 2.5rem;
    }

    /* --- INFO DEL SORTEO --- */
    .event-details {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .event-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: rgba(255, 255, 255, 0.5);
      margin-bottom: 8px;
      display: block;
    }

    .event-date {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: #fff;
    }

    .event-time {
      font-size: 0.85rem;
      color: #d32f2f; /* Toque rojo sutil para urgencia/importancia */
      margin-top: 5px;
      display: block;
      font-weight: 500;
    }

    /* --- BOTONES DE CALENDARIO --- */
    .calendar-section {
      margin-top: 1rem;
    }

    .cal-label {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.4);
      margin-bottom: 12px;
      display: block;
    }

    .calendar-actions {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .cal-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 18px;
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      color: white;
      text-decoration: none;
      font-size: 0.85rem;
      font-weight: 500;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    /* Efecto hover estilo VQZ */
    .cal-btn::after {
      content: '';
      position: absolute;
      top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.4s ease;
    }

    .cal-btn:hover::after {
      left: 100%;
    }

    .cal-btn:hover {
      background-color: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.6);
      transform: translateY(-2px);
    }

    .cal-btn svg {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    /* Responsive adjustments */
    @media (max-width: 480px) {
      .confirm-card { padding: 2rem 1.5rem; }
      h1 { font-size: 1.6rem; }
      .calendar-actions { flex-direction: column; }
      .cal-btn { width: 100%; }
    }
  </style>
</head>
<body>

  <div class="confirm-card">
    <div class="success-icon">✨</div>
    
    <!-- El ID greeting se modificará con JS -->
    <h1 id="greeting">¡Estás dentro!</h1>
    
    <p class="subtitle">
      Tu registro ha sido confirmado correctamente. Ya estás participando en el sorteo de <strong>@brandonvasp</strong>.
    </p>

    <div class="event-details">
      <span class="event-label">Resultados del sorteo</span>
      <div class="event-date">7 DE ENERO DE 2026</div>
      <span class="event-time">12:00 PM EST (Hora del Este)</span>
    </div>

    <div class="calendar-section">
      <span class="cal-label">Guárdalo en tu calendario para no perderte el resultado:</span>
      
      <div class="calendar-actions">
        <!-- Google -->
        <a href="#" onclick="addToGoogle(); return false;" class="cal-btn">
          <svg viewBox="0 0 24 24"><path d="M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27 3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10 5.35 0 9.25-3.67 9.25-9.09 0-1.15-.15-1.81-.15-1.81z"/></svg>
          Google
        </a>
        
        <!-- Outlook -->
        <a href="#" onclick="addToOutlook(); return false;" class="cal-btn">
          <svg viewBox="0 0 24 24"><path d="M1 17L1 7L9 5L9 19L1 17ZM23 18V6C23 4.89 22.1 4 21 4H15V20H21C22.1 20 23 19.11 23 18ZM13 20H11V4H13V20Z"/></svg>
          Outlook
        </a>
        
        <!-- Apple -->
        <a href="#" onclick="addToApple(); return false;" class="cal-btn">
          <svg viewBox="0 0 24 24"><path d="M17.8 19.5c-.8 0-1.6-.3-2.3-.7-.7-.4-1.3-.7-2-.7-.7 0-1.4.3-2.1.8-.7.4-1.4.7-2.1.7-2.6 0-4.8-4-4.8-7.7 0-2.8 1.8-4.5 4.3-4.5.7 0 1.4.2 2 .5.6.3 1.2.5 1.7.5.5 0 1.1-.2 1.8-.5.7-.3 1.3-.5 2-.5 2.1 0 3.8 1.4 4.5 3.3-.1.1-1.1.6-1.1 2.3 0 1.9 1.5 2.6 1.6 2.6-.1.2-.2.5-.4.8-1 2-2.1 2.8-3.1 2.8zM14.9 5.2c0-1 .5-2 1-2.5.5-.5 1.3-.9 2.2-.9.1 1.1-.3 2.1-.9 2.7-.6.5-1.5.8-2.3.7z"/></svg>
          Apple
        </a>
      </div>
    </div>
  </div>

  <script>
    // 1. LÓGICA DE PERSONALIZACIÓN DEL MENSAJE (?lead=Name)
    document.addEventListener("DOMContentLoaded", function() {
      // Obtener parámetros de la URL
      const urlParams = new URLSearchParams(window.location.search);
      const leadName = urlParams.get('lead');
      const greetingElement = document.getElementById('greeting');

      if (leadName && leadName.trim() !== "") {
        // Limpiamos el nombre para evitar inyecciones simples de HTML
        const cleanName = leadName.replace(/</g, "&lt;").replace(/>/g, "&gt;");
        // Si el nombre es muy largo, lo cortamos para que no rompa el diseño
        const displayName = cleanName.length > 20 ? cleanName.substring(0, 20) + '...' : cleanName;
        
        greetingElement.innerHTML = `¡Estás dentro, ${displayName}!`;
      } else {
        greetingElement.innerHTML = `¡Registro Exitoso!`;
      }
    });

    // 2. LÓGICA DEL CALENDARIO (7 Enero 2026, 12:00 PM EST = 17:00 UTC)
    const eventConfig = {
      title: "Resultados Sorteo @brandonvasp",
      description: "Momento de conocer al ganador del sorteo de @brandonvasp. ¡Mucha suerte!",
      location: "Instagram @brandonvasp",
      start: "20260107T170000Z", 
      end: "20260107T180000Z"
    };

    function addToGoogle() {
      const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(eventConfig.title)}&dates=${eventConfig.start}/${eventConfig.end}&details=${encodeURIComponent(eventConfig.description)}&location=${encodeURIComponent(eventConfig.location)}`;
      window.open(url, '_blank');
    }

    function addToOutlook() {
      const url = `https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent&startdt=2026-01-07T17:00:00Z&enddt=2026-01-07T18:00:00Z&subject=${encodeURIComponent(eventConfig.title)}&body=${encodeURIComponent(eventConfig.description)}&location=${encodeURIComponent(eventConfig.location)}`;
      window.open(url, '_blank');
    }

    function addToApple() {
      const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
URL:https://instagram.com/brandonvasp
DTSTART:${eventConfig.start}
DTEND:${eventConfig.end}
SUMMARY:${eventConfig.title}
DESCRIPTION:${eventConfig.description}
LOCATION:${eventConfig.location}
END:VEVENT
END:VCALENDAR`;
      const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
      const link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.setAttribute('download', 'sorteo_brandonvasp.ics');
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  </script>
</body>
</html>
