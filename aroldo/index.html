<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Aroldo Blanco - Asesoría Inmobiliaria en Panamá</title>
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- SEO Meta Tags for Panama Real Estate -->
    <meta name="title" content="Aroldo Blanco - Asesoría Inmobiliaria en Panamá">
    <meta name="description" content="Asesor inmobiliario profesional en Panamá con licencia PJ 1035-14/PN5664. Conectamos tus sueños con hogares en las mejores ubicaciones de Panamá. Casas, apartamentos, inversiones inmobiliarias.">
    <meta name="keywords" content="asesor inmobiliario panama, casas panama, apartamentos panama, bienes raices panama, propiedades panama, inversiones inmobiliarias panama, aroldo blanco, corretor panama, venta casas panama, alquiler apartamentos panama">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Aroldo Blanco">
    <meta name="geo.region" content="PA">
    <meta name="geo.placename" content="Panamá">
    <meta name="geo.position" content="9.0765;-79.5371">
    <meta name="ICBM" content="9.0765, -79.5371">
    <link rel="canonical" href="https://inmobiliario.com.pa">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="business.business">
    <meta property="og:title" content="Aroldo Blanco - Asesoría Inmobiliaria en Panamá">
    <meta property="og:description" content="Conectamos sueños con hogares en las mejores ubicaciones de Panamá. Asesoría inmobiliaria profesional con licencia PJ 1035-14/PN5664">
    <meta property="og:image" content="https://vqzpartners.com/aroldo/img/social-banner.jpg">
    <meta property="og:url" content="https://inmobiliario.com.pa">
    <meta property="og:site_name" content="Aroldo Blanco Inmobiliario">
    <meta property="business:contact_data:street_address" content="Panamá">
    <meta property="business:contact_data:locality" content="Ciudad de Panamá">
    <meta property="business:contact_data:region" content="Panamá">
    <meta property="business:contact_data:postal_code" content="0801">
    <meta property="business:contact_data:country_name" content="Panamá">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Aroldo Blanco - Asesoría Inmobiliaria en Panamá">
    <meta name="twitter:description" content="Conectamos sueños con hogares en las mejores ubicaciones de Panamá. Asesoría inmobiliaria profesional.">
    <meta name="twitter:image" content="https://vqzpartners.com/aroldo/img/social-banner.jpg">
    
    <!-- Local Business Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "RealEstateAgent",
      "name": "Aroldo Blanco",
      "description": "Experto asesor inmobiliario en Panamá. Conectamos sueños con hogares en las mejores ubicaciones.",
      "url": "https://inmobiliario.com.pa",
      "telephone": "+507-6859-8709",
      "email": "inmueblesamillon@gmail.com",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "PA",
        "addressRegion": "Panamá",
        "addressLocality": "Ciudad de Panamá"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "9.0765",
        "longitude": "-79.5371"
      },
      "areaServed": "Panamá",
      "knowsAbout": ["Bienes Raíces", "Propiedades Residenciales", "Inversiones Inmobiliarias", "Asesoría Inmobiliaria"],
      "sameAs": [
        "https://www.instagram.com/aroldoblanco.rah",
        "https://www.tiktok.com/@aroldoblanco.rah",
        "https://www.youtube.com/@aroldobfc"
      ]
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #f1f3f4 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem 0;
        }

        .profile-image {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            border: 4px solid rgba(255, 0, 0, 0.2);
            display: block;
            object-fit: cover;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ff0000, #cc0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: #ff0000;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .hero-description {
            font-size: 1.1rem;
            color: rgba(0, 0, 0, 0.7);
            margin-bottom: 1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .license-info {
            font-size: 0.9rem;
            color: rgba(0, 0, 0, 0.6);
            background: rgba(255, 0, 0, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 0, 0, 0.2);
        }

        /* Social Media Links */
        .social-section {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .social-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #333;
            padding: 1rem;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            min-width: 120px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .social-link:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .social-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .social-text {
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Video Section */
        .video-section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            color: #ff0000;
        }

        .video-container {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            border-radius: 15px;
            overflow: hidden;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 15px;
        }

        /* Video Marquee Styles */
        .videos-marquee-section {
            margin-top: 2rem;
            margin-bottom: 3rem;
        }

        .marquee-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-align: center;
            color: #ff0000;
        }

        .marquee-container {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
}

.marquee-container::before,
.marquee-container::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100px;
    z-index: 10;
    pointer-events: none;
}

.marquee-container::before {
    left: 0;
    background: linear-gradient(to right, rgba(255, 255, 255, 0.9), transparent);
}

.marquee-container::after {
    right: 0;
    background: linear-gradient(to left, rgba(255, 255, 255, 0.9), transparent);
}

        .marquee-track {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .marquee-track:hover {
            animation-play-state: paused;
        }

        .marquee-track-left {
            animation: marqueeScrollLeft 120s linear infinite;
        }

        .marquee-track-right {
            animation: marqueeScrollRight 120s linear infinite;
        }

        @keyframes marqueeScrollLeft {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        @keyframes marqueeScrollRight {
            0% {
                transform: translateX(-50%);
            }
            100% {
                transform: translateX(0);
            }
        }

        .video-card {
            flex: 0 0 280px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .video-thumbnail {
            width: 100%;
            height: 157px;
            object-fit: cover;
            display: block;
        }

        .video-info {
            padding: 1rem;
        }

        .video-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-meta {
            font-size: 0.8rem;
            color: #666;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }

        .video-duration {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.75rem;
            position: absolute;
            bottom: 8px;
            right: 8px;
            font-weight: 500;
        }

        .video-thumbnail-container {
            position: relative;
        }

        .loading-message {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 2rem;
        }

        .error-message {
            text-align: center;
            color: #ff0000;
            font-style: italic;
            padding: 2rem;
        }

        /* Contact Section */
        .contact-section {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .contact-button {
            background: linear-gradient(135deg, #ff0000, #cc0000);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 2rem;
        }

        .contact-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 0, 0, 0.3);
        }

        /* Chatbot Styles */
        .chatbot {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 1rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .chatbot.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            margin: 1rem 0;
            font-size: 1rem;
        }

        .chat-input::placeholder {
            color: rgba(0, 0, 0, 0.5);
        }

        .chat-button {
            background: #ff0000;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            margin: 0.5rem 0.5rem 0.5rem 0;
            transition: all 0.3s ease;
        }

        .chat-button:hover {
            background: #cc0000;
            transform: translateY(-1px);
        }

        .contact-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .contact-option {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            color: #333;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .contact-option:hover:not(.disabled) {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .contact-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(200, 200, 200, 0.3);
        }

        .contact-option.disabled:hover {
            transform: none;
            box-shadow: none;
        }

        .contact-option i {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .additional-options {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .additional-options p {
            margin-bottom: 1rem;
            color: #666;
            font-size: 0.9rem;
        }

        .form-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .form-row {
            margin-bottom: 1rem;
        }

        .form-row label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .required {
            color: #ff0000;
        }

        .validation-message {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.25rem;
            font-style: italic;
        }

        /* Footer */
        .footer {
            text-align: center;
            color: rgba(0, 0, 0, 0.6);
            font-size: 0.9rem;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .license-info {
                margin-bottom: 0.5rem;
            }
            
            .social-section {
                gap: 0.75rem;
                flex-direction: row;
                justify-content: space-around;
            }
            
            .social-link {
                min-width: 90px;
                padding: 0.75rem 0.5rem;
                flex: 1;
                max-width: 110px;
            }
            
            .social-icon {
                font-size: 1.75rem;
            }
            
            .social-text {
                font-size: 0.8rem;
            }
            
            .contact-section {
                padding: 1.5rem;
            }
            
            .contact-options {
                grid-template-columns: 1fr;
            }

            .video-card {
                flex: 0 0 240px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 15px;
            }
            
            .profile-image {
                width: 150px;
                height: 150px;
            }
            
            .hero-title {
                font-size: 1.75rem;
            }
            
            .social-section {
                gap: 0.5rem;
            }
            
            .social-link {
                min-width: 80px;
                padding: 0.6rem 0.3rem;
            }
            
            .social-icon {
                font-size: 1.5rem;
            }
            
            .social-text {
                font-size: 0.75rem;
            }

            .video-card {
                flex: 0 0 200px;
            }

            .video-title {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <img src="img/avatar.jpg" alt="Aroldo Blanco - Asesor Inmobiliario" class="profile-image">
            <h1 class="hero-title">Aroldo Blanco</h1>
            <h2 class="hero-subtitle">Experto en Asesoría Inmobiliaria en Panamá</h2>
            <p class="hero-description">Conectamos sueños con hogares en las mejores ubicaciones de Panamá</p>
            <div class="license-info">
                <i class="fas fa-certificate"></i> Licencia: PJ 1035-14/PN5664
            </div>
        </div>

        <!-- Social Media Section -->
        <div class="social-section">
            <a href="https://www.instagram.com/aroldoblanco.rah" class="social-link" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-instagram social-icon" style="color: #E4405F;"></i>
                <span class="social-text">Instagram</span>
            </a>
            <a href="https://www.tiktok.com/@aroldoblanco.rah" class="social-link" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-tiktok social-icon" style="color: #ff0050;"></i>
                <span class="social-text">TikTok</span>
            </a>
            <a href="https://www.youtube.com/@aroldobfc" class="social-link" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube social-icon" style="color: #FF0000;"></i>
                <span class="social-text">YouTube</span>
            </a>
        </div>

        <!-- Video Section -->
        <div class="video-section">
            <h3 class="section-title">🏠 Mira mi nuevo podcast</h3>
            <div class="video-container">
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/61TwYOxE4gQ?si=18MRSFp7mbdoCuV4" 
                            title="Aroldo Blanco - Servicios Inmobiliarios" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" 
                            allowfullscreen>
                    </iframe>
                </div>
            </div>

            <!-- Video Marquee Section -->
            <div class="videos-marquee-section">
                <h4 class="marquee-title">📺 Últimos Videos</h4>
                <div class="marquee-container">
                    <div id="videosMarquee" class="loading-message">
                        <i class="fas fa-spinner fa-spin"></i> Cargando videos...
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Section -->
        <div class="contact-section">
            <h3 class="section-title">💬 ¿Tienes interes en una Propiedad?</h3>
            <button class="contact-button" onclick="toggleChatbot()">
                <i class="fas fa-comments"></i> Iniciar Conversación
            </button>

            <div class="chatbot" id="chatbot">
                <div class="form-section">
                    <h4>¡Hola! Soy Aroldo Blanco 👋</h4>
                    <p>Gracias por tu interés en mis servicios inmobiliarios. Para brindarte la mejor atención, necesito algunos datos:</p>
                    
                    <div class="form-row">
                        <label for="userName">Nombre completo <span class="required">*</span></label>
                        <input type="text" class="chat-input" id="userName" placeholder="Ingresa tu nombre completo" oninput="validateForm()">
                        <div class="validation-message">Este campo es obligatorio</div>
                    </div>

                    <div class="form-row">
                        <label for="contactReason">¿Cómo puedo ayudarte? <span class="required">*</span></label>
                        <textarea class="chat-input" id="contactReason" placeholder="Ejemplo: Busco un apartamento de 2 habitaciones en Casco Viejo, presupuesto $150,000" rows="4" oninput="validateForm()"></textarea>
                        <div class="validation-message">Cuéntame qué tipo de propiedad buscas</div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Elige tu método de contacto preferido:</h4>
                    <p id="contactInstructions">Complete los campos arriba para activar las opciones de contacto</p>
                    
                    <div class="contact-options">
                        <div class="contact-option disabled" id="whatsappOption" onclick="contactViaWhatsApp()">
                            <i class="fab fa-whatsapp" style="color: #25D366;"></i>
                            <span>WhatsApp</span>
                        </div>
                        <div class="contact-option disabled" id="callOption" onclick="contactViaCall()">
                            <i class="fas fa-phone" style="color: #4CAF50;"></i>
                            <span>Llamada</span>
                        </div>
                        <div class="contact-option disabled" id="emailOption" onclick="contactViaEmail()">
                            <i class="fas fa-envelope" style="color: #2196F3;"></i>
                            <span>Email</span>
                        </div>
                    </div>
                </div>

                <div class="additional-options">
                    <p>¿Prefieres llamarme directamente?</p>
                    <button class="chat-button" onclick="window.open('tel:+50768598709', '_self')" style="background: #4CAF50;">
                        <i class="fas fa-phone"></i> Llamar Ahora
                    </button>
                    <button class="chat-button" onclick="resetChatbot()">
                        <i class="fas fa-redo"></i> Nueva Consulta
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>© 2025 Aroldo Blanco.</p>
        </div>
    </div>


    <script>
let currentStep = 1;
let userName = '';
let contactReason = '';

// YouTube RSS Feed configuration
const YOUTUBE_RSS_URL = 'https://www.youtube.com/feeds/videos.xml?channel_id=UC2dv425MwlOE-WTW5Gny5Zw';
const CORS_PROXY = 'https://api.allorigins.win/raw?url=';

// Function to format date from RSS
function formatDate(dateString) {
    const date = new Date(dateString);
    const now = new Date();
    const diffTime = Math.abs(now - date);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    
    if (diffDays === 1) {
        return 'hace 1 día';
    } else if (diffDays < 7) {
        return `hace ${diffDays} días`;
    } else if (diffDays < 30) {
        const weeks = Math.floor(diffDays / 7);
        return `hace ${weeks} semana${weeks > 1 ? 's' : ''}`;
    } else {
        const months = Math.floor(diffDays / 30);
        return `hace ${months} mes${months > 1 ? 'es' : ''}`;
    }
}

// Function to extract video ID from YouTube URL
function extractVideoId(url) {
    const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);
    return match ? match[1] : null;
}

// Function to create video card HTML
function createVideoCard(video) {
    return `
        <div class="video-card" onclick="openVideo('${video.id}')">
            <div class="video-thumbnail-container">
                <img src="${video.thumbnail}" alt="${video.title}" class="video-thumbnail" loading="lazy">
                <div class="video-duration">${video.duration || 'N/A'}</div>
            </div>
            <div class="video-info">
                <h5 class="video-title">${video.title}</h5>
                <div class="video-meta">
                    <span>${video.publishDate}</span>
                </div>
            </div>
        </div>
    `;
}

// Function to open video in new tab
function openVideo(videoId) {
    window.open(`https://www.youtube.com/watch?v=${videoId}`, '_blank');
}

// Function to fetch and parse YouTube RSS feed
async function fetchYouTubeVideos() {
    const marqueeContainer = document.getElementById('videosMarquee');
    
    try {
        marqueeContainer.innerHTML = '<div class="loading-message"><i class="fas fa-spinner fa-spin"></i> Cargando videos...</div>';
        
        // Fetch RSS feed through CORS proxy
        const response = await fetch(CORS_PROXY + encodeURIComponent(YOUTUBE_RSS_URL));
        const xmlText = await response.text();
        
        // Parse XML
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
        
        // Check for parsing errors
        const parserError = xmlDoc.querySelector('parsererror');
        if (parserError) {
            throw new Error('Error parsing XML');
        }
        
        // Extract video entries
        const entries = xmlDoc.querySelectorAll('entry');
        const videos = [];
        
        entries.forEach((entry, index) => {
            if (index < 12) { // Limit to 12 videos for performance
                const title = entry.querySelector('title')?.textContent || 'Sin título';
                const link = entry.querySelector('link')?.getAttribute('href') || '';
                const publishedDate = entry.querySelector('published')?.textContent || '';
                const videoId = extractVideoId(link);
                
                if (videoId) {
                    // Get video statistics from media:group if available
                    const mediaGroup = entry.querySelector('media\\:group, group');
                    const description = mediaGroup?.querySelector('media\\:description, description')?.textContent || '';
                    const thumbnail = `https://img.youtube.com/vi/${videoId}/mqdefault.jpg`;
                    
                    videos.push({
                        id: videoId,
                        title: title.length > 60 ? title.substring(0, 60) + '...' : title,
                        thumbnail: thumbnail,
                        publishDate: formatDate(publishedDate),
                        duration: 'Video', // RSS doesn't provide duration, so we use generic text
                        url: link
                    });
                }
            }
        });
        
        if (videos.length === 0) {
            marqueeContainer.innerHTML = '<div class="error-message">No se pudieron cargar los videos en este momento.</div>';
            return;
        }
        
        // Split videos into two groups for two marquee lines
        const midPoint = Math.ceil(videos.length / 2);
        const firstLineVideos = videos.slice(0, midPoint);
        const secondLineVideos = videos.slice(midPoint);
        
        // Create marquee content for both lines (duplicate for seamless loop)
        const firstLineCards = firstLineVideos.map(video => createVideoCard(video)).join('');
        const secondLineCards = secondLineVideos.map(video => createVideoCard(video)).join('');
        
        const firstLineDuplicated = firstLineCards + firstLineCards; // Duplicate for seamless scrolling
        const secondLineDuplicated = secondLineCards + secondLineCards; // Duplicate for seamless scrolling
        
        marqueeContainer.innerHTML = `
            <div class="marquee-track marquee-track-left">
                ${firstLineDuplicated}
            </div>
            <div class="marquee-track marquee-track-right">
                ${secondLineDuplicated}
            </div>
        `;
        
        console.log(`Loaded ${videos.length} videos successfully`);
        
    } catch (error) {
        console.error('Error fetching YouTube videos:', error);
        marqueeContainer.innerHTML = `
            <div class="error-message">
                <i class="fas fa-exclamation-triangle"></i> 
                No se pudieron cargar los videos en este momento.<br>
                <small>Intenta recargar la página más tarde.</small>
            </div>
        `;
    }
}

// Chatbot functions
function toggleChatbot() {
    const chatbot = document.getElementById('chatbot');
    chatbot.classList.toggle('active');
}

function nextStep(step) {
    if (step === 2) {
        userName = document.getElementById('userName').value.trim();
        if (!userName) {
            alert('Por favor, ingresa tu nombre para continuar.');
            return;
        }
        document.getElementById('nameDisplay').textContent = userName;
    }
    
    if (step === 3) {
        contactReason = document.getElementById('contactReason').value.trim();
        if (!contactReason) {
            alert('Por favor, cuéntame cómo puedo ayudarte.');
            return;
        }
    }

    // Hide current step
    document.getElementById(`step${currentStep}`).classList.remove('active');
    
    // Show next step
    currentStep = step;
    document.getElementById(`step${currentStep}`).classList.add('active');
}

function contactViaWhatsApp() {
    const message = `¡Hola Aroldo! 👋

Mi nombre es: ${userName}

Me interesa contactarte por lo siguiente:
${contactReason}

Gracias por tu tiempo y espero tu respuesta. 🏠`;
    
    const whatsappUrl = `https://wa.me/50768598709?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
    nextStep(4);
}

function contactViaCall() {
    window.open('tel:+50768598709', '_self');
    nextStep(4);
}

function contactViaEmail() {
    const subject = `Consulta Inmobiliaria - ${userName}`;
    const body = `Estimado Aroldo Blanco,

Mi nombre es ${userName} y me dirijo a usted por lo siguiente:

${contactReason}

Quedo atento a su respuesta para coordinar una cita o recibir más información sobre sus servicios inmobiliarios.

Saludos cordiales,
${userName}

---
Enviado desde inmobiliario.com.pa`;

    const emailUrl = `mailto:inmueblesamillon@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    window.open(emailUrl, '_self');
    nextStep(4);
}

function resetChatbot() {
    currentStep = 1;
    userName = '';
    contactReason = '';
    
    // Clear inputs
    document.getElementById('userName').value = '';
    document.getElementById('contactReason').value = '';
    
    // Reset to first step
    document.querySelectorAll('.chat-step').forEach(step => {
        step.classList.remove('active');
    });
    document.getElementById('step1').classList.add('active');
}

// Form validation functions (for the first version compatibility)
function validateForm() {
    const userNameInput = document.getElementById('userName');
    const contactReasonInput = document.getElementById('contactReason');
    const whatsappOption = document.getElementById('whatsappOption');
    const callOption = document.getElementById('callOption');
    const emailOption = document.getElementById('emailOption');
    const contactInstructions = document.getElementById('contactInstructions');
    
    if (!userNameInput || !contactReasonInput) return;
    
    const name = userNameInput.value.trim();
    const reason = contactReasonInput.value.trim();
    
    if (name && reason) {
        userName = name;
        contactReason = reason;
        
        // Enable contact options
        if (whatsappOption) whatsappOption.classList.remove('disabled');
        if (callOption) callOption.classList.remove('disabled');
        if (emailOption) emailOption.classList.remove('disabled');
        
        if (contactInstructions) {
            contactInstructions.textContent = '¡Perfecto! Ahora elige tu método de contacto preferido:';
        }
    } else {
        // Disable contact options
        if (whatsappOption) whatsappOption.classList.add('disabled');
        if (callOption) callOption.classList.add('disabled');
        if (emailOption) emailOption.classList.add('disabled');
        
        if (contactInstructions) {
            contactInstructions.textContent = 'Complete los campos arriba para activar las opciones de contacto';
        }
    }
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Add animation delays for social links
    const socialLinks = document.querySelectorAll('.social-link');
    socialLinks.forEach((link, index) => {
        link.style.animationDelay = `${index * 0.1}s`;
    });
    
    // Load YouTube videos
    fetchYouTubeVideos();
    
    // Set up form validation if elements exist (for first version compatibility)
    const userNameInput = document.getElementById('userName');
    const contactReasonInput = document.getElementById('contactReason');
    
    if (userNameInput && contactReasonInput) {
        userNameInput.addEventListener('input', validateForm);
        contactReasonInput.addEventListener('input', validateForm);
    }
});

// Refresh videos every 10 minutes (optional)
setInterval(() => {
    console.log('Refreshing YouTube videos...');
    fetchYouTubeVideos();
}, 10 * 60 * 1000);
    </script>
</body>
</html>
